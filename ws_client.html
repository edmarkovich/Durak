<html>
    <body>
	<input type="text" id="myText" value="Mickey">
	<button class="X">Try it</button>
        <script>
            ws = new WebSocket("ws://192.168.0.111:5678/"),
                messages = document.createElement('ul');

	                plus = document.querySelector('.X'),
			plus.onclick = function(event){
	console.log("ddddd")
		    ws.send('{"action":"join", "name": "Ed"}');
			}


	    ws.onopen = function() {
	    }

            ws.onmessage = function (event) {
                var messages = document.getElementsByTagName('ul')[0],
                    message = document.createElement('li'),
                    content = document.createTextNode(event.data);
                message.appendChild(content);
                messages.appendChild(message);

            };
            document.body.appendChild(messages);

function myFunction() {
  x=document.getElementById("myText").value
  console.log(ws)
  ws.send(x)
  console.log(x)
}
        </script>
    </body>
</html>
